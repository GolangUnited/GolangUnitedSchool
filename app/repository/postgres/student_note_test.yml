conf:
  setup:
    requests:
      - request: CREATE
          TABLE students (
          id serial not null unique,
          student_id integer NOT NULL unique
          );

      - request: INSERT
          INTO students (student_id) VALUES
          (1),
          (2),
          (3);

      - request: CREATE
          TABLE student_note_types (
          id serial not null unique,
          title varchar(255) not null unique
          );
      - request: INSERT
          INTO student_note_types (title) VALUES
          ('work'),
          ('exp'),
          ('self');

      - request: CREATE
          TABLE student_notes (
          id serial not null unique,
          student_id integer references students(id),
          student_note_type_id integer references student_note_types(id),
          note varchar(255) not null,
          created_at timestamp not null default current_timestamp
          );

      - request: INSERT
          INTO student_notes (
          student_id,
          student_note_type_id,
          note,
          created_at
          ) VALUES
          ('2', '1', 'kek', '2006-01-02'),
          ('2', '2', 'kok', '2006-01-02'),
          ('3', '3', 'kak', '2006-01-02');

      - request: CREATE
          TABLE mentors (
          mentor_id serial not null unique,
          user_id integer not null unique     
          );

      - request: INSERT
          INTO mentors (user_id) VALUES
          ('1'),
          ('2'),
          ('3'),
          ('4');

      - request: CREATE TABLE mentor_notes (
          mentor_note_id serial not null unique,
          student_id integer not null references students(id),
          mentor_id integer not null references mentors(mentor_id),
          note varchar(255) not null unique,
          created_at timestamp not null default current_timestamp
          );

      - request: INSERT
          INTO mentor_notes (
          student_id,
          mentor_id,
          note,
          created_at
          ) VALUES
          ('1','2','kekeke', '2006-01-02'),
          ('2','2','kokoko', '2006-01-02'),
          ('3','3','kakaka', '2006-01-02');



  teardown:
    requests:
      - request: drop table student_notes cascade;
      - request: drop table student_note_types cascade;
      - request: DROP TABLE students CASCADE;
      - request: drop table mentors cascade;
      - request: drop table mentor_notes cascade;


